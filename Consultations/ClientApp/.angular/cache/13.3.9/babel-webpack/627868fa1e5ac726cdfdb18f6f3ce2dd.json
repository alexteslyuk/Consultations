{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\AT\\\\source\\\\repos\\\\Consultations\\\\Consultations\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from \"@angular/core\";\nimport { Validators } from \"@angular/forms\";\nlet EditConsultationComponent = class EditConsultationComponent {\n  constructor(formBuilder, http, baseUrl, router, route) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.router = router;\n    this.route = route;\n    this.consultationLoaded = false;\n    this.id = null;\n    this.patientId = null;\n    this.editConsultationForm = formBuilder.group({\n      startDate: [new Date(), Validators.required],\n      endDate: [new Date(), Validators.required],\n      symptoms: ['']\n    });\n    var id = this.route.snapshot.paramMap.get('id');\n\n    if (id != null) {\n      this.id = +id;\n      this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\n        this.editConsultationForm = formBuilder.group({\n          startDate: [result.startDate, Validators.required],\n          endDate: [result.endDate, Validators.required],\n          symptoms: [result.symptoms]\n        });\n        this.patientId = result.patientId;\n      });\n      this.consultationLoaded = true;\n    }\n  }\n\n  get form() {\n    return this.editConsultationForm.controls;\n  }\n\n  onSubmit(data) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.editConsultationForm.invalid || _this.id == null) return;\n      data.patientId = _this.patientId;\n\n      _this.http.post(`${_this.baseUrl}api/Consultation/Edit?id=${_this.id}`, data).subscribe(() => _this.router.navigate([`/consultations/${_this.patientId}`]));\n    })();\n  }\n\n};\nEditConsultationComponent = __decorate([Component({\n  selector: 'consultations-edit-consultation',\n  templateUrl: './edit-consultation.component.html'\n}), __param(2, Inject('BASE_URL'))], EditConsultationComponent);\nexport { EditConsultationComponent };","map":{"version":3,"sources":["C:/Users/AT/source/repos/Consultations/Consultations/ClientApp/src/consultations/edit-consultation/edit-consultation.component.ts"],"names":["__decorate","__param","Component","Inject","Validators","EditConsultationComponent","constructor","formBuilder","http","baseUrl","router","route","consultationLoaded","id","patientId","editConsultationForm","group","startDate","Date","required","endDate","symptoms","snapshot","paramMap","get","subscribe","result","form","controls","onSubmit","data","invalid","post","navigate","selector","templateUrl"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,OAArB,QAAoC,OAApC;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,eAAlC;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,IAAIC,yBAAyB,GAAG,MAAMA,yBAAN,CAAgC;AAC5DC,EAAAA,WAAW,CAACC,WAAD,EAAcC,IAAd,EAAoBC,OAApB,EAA6BC,MAA7B,EAAqCC,KAArC,EAA4C;AACnD,SAAKH,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,EAAL,GAAU,IAAV;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,oBAAL,GAA4BR,WAAW,CAACS,KAAZ,CAAkB;AAC1CC,MAAAA,SAAS,EAAE,CAAC,IAAIC,IAAJ,EAAD,EAAad,UAAU,CAACe,QAAxB,CAD+B;AAE1CC,MAAAA,OAAO,EAAE,CAAC,IAAIF,IAAJ,EAAD,EAAad,UAAU,CAACe,QAAxB,CAFiC;AAG1CE,MAAAA,QAAQ,EAAE,CAAC,EAAD;AAHgC,KAAlB,CAA5B;AAKA,QAAIR,EAAE,GAAG,KAAKF,KAAL,CAAWW,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAT;;AACA,QAAIX,EAAE,IAAI,IAAV,EAAgB;AACZ,WAAKA,EAAL,GAAU,CAACA,EAAX;AACA,WAAKL,IAAL,CAAUgB,GAAV,CAAe,GAAE,KAAKf,OAAQ,2BAA0B,KAAKI,EAAG,EAAhE,EAAmEY,SAAnE,CAA6EC,MAAM,IAAI;AACnF,aAAKX,oBAAL,GAA4BR,WAAW,CAACS,KAAZ,CAAkB;AAC1CC,UAAAA,SAAS,EAAE,CAACS,MAAM,CAACT,SAAR,EAAmBb,UAAU,CAACe,QAA9B,CAD+B;AAE1CC,UAAAA,OAAO,EAAE,CAACM,MAAM,CAACN,OAAR,EAAiBhB,UAAU,CAACe,QAA5B,CAFiC;AAG1CE,UAAAA,QAAQ,EAAE,CAACK,MAAM,CAACL,QAAR;AAHgC,SAAlB,CAA5B;AAKA,aAAKP,SAAL,GAAiBY,MAAM,CAACZ,SAAxB;AACH,OAPD;AAQA,WAAKF,kBAAL,GAA0B,IAA1B;AACH;AACJ;;AACO,MAAJe,IAAI,GAAG;AACP,WAAO,KAAKZ,oBAAL,CAA0Ba,QAAjC;AACH;;AACKC,EAAAA,QAAQ,CAACC,IAAD,EAAO;AAAA;;AAAA;AACjB,UAAI,KAAI,CAACf,oBAAL,CAA0BgB,OAA1B,IAAqC,KAAI,CAAClB,EAAL,IAAW,IAApD,EACI;AACJiB,MAAAA,IAAI,CAAChB,SAAL,GAAiB,KAAI,CAACA,SAAtB;;AACA,MAAA,KAAI,CAACN,IAAL,CAAUwB,IAAV,CAAgB,GAAE,KAAI,CAACvB,OAAQ,4BAA2B,KAAI,CAACI,EAAG,EAAlE,EAAqEiB,IAArE,EAA2EL,SAA3E,CAAqF,MAAM,KAAI,CAACf,MAAL,CAAYuB,QAAZ,CAAqB,CAAE,kBAAiB,KAAI,CAACnB,SAAU,EAAlC,CAArB,CAA3F;AAJiB;AAKpB;;AApC2D,CAAhE;AAsCAT,yBAAyB,GAAGL,UAAU,CAAC,CACnCE,SAAS,CAAC;AACNgC,EAAAA,QAAQ,EAAE,iCADJ;AAENC,EAAAA,WAAW,EAAE;AAFP,CAAD,CAD0B,EAKnClC,OAAO,CAAC,CAAD,EAAIE,MAAM,CAAC,UAAD,CAAV,CAL4B,CAAD,EAMnCE,yBANmC,CAAtC;AAOA,SAASA,yBAAT","sourcesContent":["import { __decorate, __param } from \"tslib\";\r\nimport { Component, Inject } from \"@angular/core\";\r\nimport { Validators } from \"@angular/forms\";\r\nlet EditConsultationComponent = class EditConsultationComponent {\r\n    constructor(formBuilder, http, baseUrl, router, route) {\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.consultationLoaded = false;\r\n        this.id = null;\r\n        this.patientId = null;\r\n        this.editConsultationForm = formBuilder.group({\r\n            startDate: [new Date(), Validators.required],\r\n            endDate: [new Date(), Validators.required],\r\n            symptoms: [''],\r\n        });\r\n        var id = this.route.snapshot.paramMap.get('id');\r\n        if (id != null) {\r\n            this.id = +id;\r\n            this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\r\n                this.editConsultationForm = formBuilder.group({\r\n                    startDate: [result.startDate, Validators.required],\r\n                    endDate: [result.endDate, Validators.required],\r\n                    symptoms: [result.symptoms],\r\n                });\r\n                this.patientId = result.patientId;\r\n            });\r\n            this.consultationLoaded = true;\r\n        }\r\n    }\r\n    get form() {\r\n        return this.editConsultationForm.controls;\r\n    }\r\n    async onSubmit(data) {\r\n        if (this.editConsultationForm.invalid || this.id == null)\r\n            return;\r\n        data.patientId = this.patientId;\r\n        this.http.post(`${this.baseUrl}api/Consultation/Edit?id=${this.id}`, data).subscribe(() => this.router.navigate([`/consultations/${this.patientId}`]));\r\n    }\r\n};\r\nEditConsultationComponent = __decorate([\r\n    Component({\r\n        selector: 'consultations-edit-consultation',\r\n        templateUrl: './edit-consultation.component.html'\r\n    }),\r\n    __param(2, Inject('BASE_URL'))\r\n], EditConsultationComponent);\r\nexport { EditConsultationComponent };\r\n"]},"metadata":{},"sourceType":"module"}