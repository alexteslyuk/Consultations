{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\AT\\\\source\\\\repos\\\\Consultations\\\\Consultations\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/progress-spinner\";\n\nfunction EditConsultationComponent_mat_spinner_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nexport class EditConsultationComponent {\n  constructor(formBuilder, http, baseUrl, router, route) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.router = router;\n    this.route = route;\n    this.consultationLoaded = false;\n    this.id = null;\n    this.patientId = null;\n    this.editConsultationForm = formBuilder.group({\n      startDate: [new Date(), Validators.required],\n      endDate: [new Date(), Validators.required],\n      symptoms: ['']\n    });\n    var id = this.route.snapshot.paramMap.get('id');\n\n    if (id != null) {\n      this.id = +id;\n      this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\n        this.editConsultationForm = formBuilder.group({\n          startDate: [result.startDate, Validators.required],\n          endDate: [result.endDate, Validators.required],\n          symptoms: [result.symptoms]\n        });\n        this.patientId = result.patientId;\n      });\n      this.consultationLoaded = true;\n    }\n  }\n\n  get form() {\n    return this.editConsultationForm.controls;\n  }\n\n  onSubmit(data) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.editConsultationForm.invalid || _this.id == null) return;\n      data.patientId = _this.patientId;\n\n      _this.http.post(`${_this.baseUrl}api/Consultation/Edit?id=${_this.id}`, data).subscribe(() => _this.router.navigate([`/consultations/${_this.patientId}`]));\n    })();\n  }\n\n}\n\nEditConsultationComponent.ɵfac = function EditConsultationComponent_Factory(t) {\n  return new (t || EditConsultationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n\nEditConsultationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditConsultationComponent,\n  selectors: [[\"consultations-edit-consultation\"]],\n  decls: 10,\n  vars: 1,\n  consts: [[1, \"row\"], [1, \"col\"], [1, \"col\", \"m-2\"], [\"form\", \"form\", \"mat-stroked-button\", \"\", \"type\", \"submit\", 1, \"large-button\", \"float-right\", \"h2\"], [1, \"col-8\"], [4, \"ngIf\"]],\n  template: function EditConsultationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u0446\\u0438\\u0438\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelementStart(5, \"button\", 3);\n      i0.ɵɵtext(6, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 0);\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtemplate(9, EditConsultationComponent_mat_spinner_9_Template, 1, 0, \"mat-spinner\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", !ctx.consultationLoaded);\n    }\n  },\n  directives: [i4.MatButton, i5.NgIf, i6.MatSpinner],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/AT/source/repos/Consultations/Consultations/ClientApp/src/consultations/edit-consultation/edit-consultation.component.ts"],"names":["Validators","i0","i1","i2","i3","i4","i5","i6","EditConsultationComponent_mat_spinner_9_Template","rf","ctx","ɵɵelement","EditConsultationComponent","constructor","formBuilder","http","baseUrl","router","route","consultationLoaded","id","patientId","editConsultationForm","group","startDate","Date","required","endDate","symptoms","snapshot","paramMap","get","subscribe","result","form","controls","onSubmit","data","invalid","post","navigate","ɵfac","EditConsultationComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","HttpClient","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","EditConsultationComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ɵɵadvance","ɵɵproperty","directives","MatButton","NgIf","MatSpinner","encapsulation"],"mappings":"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","sourcesContent":["import { Validators } from \"@angular/forms\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"@angular/common/http\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"@angular/material/button\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/material/progress-spinner\";\r\nfunction EditConsultationComponent_mat_spinner_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"mat-spinner\");\r\n} }\r\nexport class EditConsultationComponent {\r\n    constructor(formBuilder, http, baseUrl, router, route) {\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.consultationLoaded = false;\r\n        this.id = null;\r\n        this.patientId = null;\r\n        this.editConsultationForm = formBuilder.group({\r\n            startDate: [new Date(), Validators.required],\r\n            endDate: [new Date(), Validators.required],\r\n            symptoms: [''],\r\n        });\r\n        var id = this.route.snapshot.paramMap.get('id');\r\n        if (id != null) {\r\n            this.id = +id;\r\n            this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\r\n                this.editConsultationForm = formBuilder.group({\r\n                    startDate: [result.startDate, Validators.required],\r\n                    endDate: [result.endDate, Validators.required],\r\n                    symptoms: [result.symptoms],\r\n                });\r\n                this.patientId = result.patientId;\r\n            });\r\n            this.consultationLoaded = true;\r\n        }\r\n    }\r\n    get form() {\r\n        return this.editConsultationForm.controls;\r\n    }\r\n    async onSubmit(data) {\r\n        if (this.editConsultationForm.invalid || this.id == null)\r\n            return;\r\n        data.patientId = this.patientId;\r\n        this.http.post(`${this.baseUrl}api/Consultation/Edit?id=${this.id}`, data).subscribe(() => this.router.navigate([`/consultations/${this.patientId}`]));\r\n    }\r\n}\r\nEditConsultationComponent.ɵfac = function EditConsultationComponent_Factory(t) { return new (t || EditConsultationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute)); };\r\nEditConsultationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EditConsultationComponent, selectors: [[\"consultations-edit-consultation\"]], decls: 10, vars: 1, consts: [[1, \"row\"], [1, \"col\"], [1, \"col\", \"m-2\"], [\"form\", \"form\", \"mat-stroked-button\", \"\", \"type\", \"submit\", 1, \"large-button\", \"float-right\", \"h2\"], [1, \"col-8\"], [4, \"ngIf\"]], template: function EditConsultationComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"h1\");\r\n        i0.ɵɵtext(3, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u0446\\u0438\\u0438\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"button\", 3);\r\n        i0.ɵɵtext(6, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 0);\r\n        i0.ɵɵelementStart(8, \"div\", 4);\r\n        i0.ɵɵtemplate(9, EditConsultationComponent_mat_spinner_9_Template, 1, 0, \"mat-spinner\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.consultationLoaded);\r\n    } }, directives: [i4.MatButton, i5.NgIf, i6.MatSpinner], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}