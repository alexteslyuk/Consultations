{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\AT\\\\source\\\\repos\\\\Consultations\\\\Consultations\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/progress-spinner\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"ng-pick-datetime\";\n\nfunction EditConsultationComponent_mat_spinner_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nfunction EditConsultationComponent_form_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 7);\n    i0.ɵɵlistener(\"ngSubmit\", function EditConsultationComponent_form_10_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onSubmit(ctx_r4.editConsultationForm.value);\n    });\n    i0.ɵɵelementStart(1, \"mat-form-field\", 8);\n    i0.ɵɵelementStart(2, \"mat-label\", 9);\n    i0.ɵɵtext(3, \" \\u041D\\u0430\\u0447\\u0430\\u043B\\u043E \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 10);\n    i0.ɵɵelement(5, \"owl-date-time\", 11, 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"mat-form-field\", 8);\n    i0.ɵɵelementStart(9, \"mat-label\", 13);\n    i0.ɵɵtext(10, \" \\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0438\\u0435 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 14);\n    i0.ɵɵelement(12, \"owl-date-time\", 11, 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementStart(15, \"mat-form-field\", 8);\n    i0.ɵɵelementStart(16, \"mat-label\", 16);\n    i0.ɵɵtext(17, \" \\u0421\\u0438\\u043C\\u043F\\u0442\\u043E\\u043C\\u044B \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(6);\n\n    const _r3 = i0.ɵɵreference(13);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.editConsultationForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"owlDateTime\", _r2)(\"owlDateTimeTrigger\", _r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pickerType\", \"calendar\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"owlDateTime\", _r3)(\"owlDateTimeTrigger\", _r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pickerType\", \"calendar\");\n  }\n}\n\nexport class EditConsultationComponent {\n  constructor(formBuilder, http, baseUrl, router, route) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.router = router;\n    this.route = route;\n    this.consultationLoaded = false;\n    this.id = null;\n    this.patientId = null;\n    this.editConsultationForm = formBuilder.group({\n      startDate: [new Date(), Validators.required],\n      endDate: [new Date(), Validators.required],\n      symptoms: ['']\n    });\n    var id = this.route.snapshot.paramMap.get('patientId');\n\n    if (id != null) {\n      this.id = +id;\n      this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\n        this.editConsultationForm = formBuilder.group({\n          startDate: [result.startDate, Validators.required],\n          endDate: [result.endDate, Validators.required],\n          symptoms: [result.symptoms]\n        });\n        this.patientId = result.patientId;\n      });\n      this.consultationLoaded = true;\n    }\n  }\n\n  get form() {\n    return this.editConsultationForm.controls;\n  }\n\n  onSubmit(data) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.editConsultationForm.invalid || _this.id == null) return;\n      data.patientId = _this.patientId;\n      console.log(_this.patientId);\n\n      _this.http.post(`${_this.baseUrl}api/Consultation/Edit?id=${_this.id}`, data).subscribe(() => _this.router.navigate([`/consultations/${_this.patientId}`]));\n    })();\n  }\n\n}\n\nEditConsultationComponent.ɵfac = function EditConsultationComponent_Factory(t) {\n  return new (t || EditConsultationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n\nEditConsultationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditConsultationComponent,\n  selectors: [[\"consultations-edit-consultation\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"row\"], [1, \"col\"], [1, \"col\", \"m-2\"], [\"form\", \"form\", \"mat-stroked-button\", \"\", \"type\", \"submit\", 1, \"large-button\", \"float-right\", \"h2\"], [1, \"col-8\"], [4, \"ngIf\"], [\"id\", \"form\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"id\", \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"standard\", 1, \"wide-form-field\"], [\"for\", \"startDate\"], [\"matInput\", \"\", \"formControlName\", \"startDate\", 3, \"owlDateTime\", \"owlDateTimeTrigger\"], [3, \"pickerType\"], [\"startDate\", \"\"], [\"for\", \"endDate\"], [\"matInput\", \"\", \"formControlName\", \"endDate\", 3, \"owlDateTime\", \"owlDateTimeTrigger\"], [\"endDate\", \"\"], [\"for\", \"symptoms\"], [\"matInput\", \"\", \"required\", \"\", \"id\", \"symptoms\", \"formControlName\", \"symptoms\"]],\n  template: function EditConsultationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u0446\\u0438\\u0438\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelementStart(5, \"button\", 3);\n      i0.ɵɵtext(6, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 0);\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtemplate(9, EditConsultationComponent_mat_spinner_9_Template, 1, 0, \"mat-spinner\", 5);\n      i0.ɵɵtemplate(10, EditConsultationComponent_form_10_Template, 20, 7, \"form\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", !ctx.consultationLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.consultationLoaded);\n    }\n  },\n  directives: [i4.MatButton, i5.NgIf, i6.MatSpinner, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i7.MatFormField, i7.MatLabel, i8.MatInput, i1.DefaultValueAccessor, i9.OwlDateTimeInputDirective, i1.NgControlStatus, i1.FormControlName, i9.OwlDateTimeTriggerDirective, i9.OwlDateTimeComponent, i1.RequiredValidator],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/AT/source/repos/Consultations/Consultations/ClientApp/src/consultations/edit-consultation/edit-consultation.component.ts"],"names":["Validators","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","EditConsultationComponent_mat_spinner_9_Template","rf","ctx","ɵɵelement","EditConsultationComponent_form_10_Template","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","EditConsultationComponent_form_10_Template_form_ngSubmit_0_listener","ɵɵrestoreView","ctx_r4","ɵɵnextContext","onSubmit","editConsultationForm","value","ɵɵtext","ɵɵelementEnd","_r2","ɵɵreference","_r3","ctx_r1","ɵɵproperty","ɵɵadvance","EditConsultationComponent","constructor","formBuilder","http","baseUrl","router","route","consultationLoaded","id","patientId","group","startDate","Date","required","endDate","symptoms","snapshot","paramMap","get","subscribe","result","form","controls","data","invalid","console","log","post","navigate","ɵfac","EditConsultationComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","HttpClient","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","EditConsultationComponent_Template","ɵɵtemplate","directives","MatButton","NgIf","MatSpinner","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","MatLabel","MatInput","DefaultValueAccessor","OwlDateTimeInputDirective","NgControlStatus","FormControlName","OwlDateTimeTriggerDirective","OwlDateTimeComponent","RequiredValidator","encapsulation"],"mappings":"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","sourcesContent":["import { Validators } from \"@angular/forms\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"@angular/common/http\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"@angular/material/button\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/material/progress-spinner\";\r\nimport * as i7 from \"@angular/material/form-field\";\r\nimport * as i8 from \"@angular/material/input\";\r\nimport * as i9 from \"ng-pick-datetime\";\r\nfunction EditConsultationComponent_mat_spinner_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"mat-spinner\");\r\n} }\r\nfunction EditConsultationComponent_form_10_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"form\", 7);\r\n    i0.ɵɵlistener(\"ngSubmit\", function EditConsultationComponent_form_10_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.onSubmit(ctx_r4.editConsultationForm.value); });\r\n    i0.ɵɵelementStart(1, \"mat-form-field\", 8);\r\n    i0.ɵɵelementStart(2, \"mat-label\", 9);\r\n    i0.ɵɵtext(3, \" \\u041D\\u0430\\u0447\\u0430\\u043B\\u043E \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(4, \"input\", 10);\r\n    i0.ɵɵelement(5, \"owl-date-time\", 11, 12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(7, \"br\");\r\n    i0.ɵɵelementStart(8, \"mat-form-field\", 8);\r\n    i0.ɵɵelementStart(9, \"mat-label\", 13);\r\n    i0.ɵɵtext(10, \" \\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0438\\u0435 \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(11, \"input\", 14);\r\n    i0.ɵɵelement(12, \"owl-date-time\", 11, 15);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(14, \"br\");\r\n    i0.ɵɵelementStart(15, \"mat-form-field\", 8);\r\n    i0.ɵɵelementStart(16, \"mat-label\", 16);\r\n    i0.ɵɵtext(17, \" \\u0421\\u0438\\u043C\\u043F\\u0442\\u043E\\u043C\\u044B \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(18, \"input\", 17);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(19, \"br\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const _r2 = i0.ɵɵreference(6);\r\n    const _r3 = i0.ɵɵreference(13);\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.editConsultationForm);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"owlDateTime\", _r2)(\"owlDateTimeTrigger\", _r2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"pickerType\", \"calendar\");\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵproperty(\"owlDateTime\", _r3)(\"owlDateTimeTrigger\", _r3);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"pickerType\", \"calendar\");\r\n} }\r\nexport class EditConsultationComponent {\r\n    constructor(formBuilder, http, baseUrl, router, route) {\r\n        this.http = http;\r\n        this.baseUrl = baseUrl;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.consultationLoaded = false;\r\n        this.id = null;\r\n        this.patientId = null;\r\n        this.editConsultationForm = formBuilder.group({\r\n            startDate: [new Date(), Validators.required],\r\n            endDate: [new Date(), Validators.required],\r\n            symptoms: [''],\r\n        });\r\n        var id = this.route.snapshot.paramMap.get('patientId');\r\n        if (id != null) {\r\n            this.id = +id;\r\n            this.http.get(`${this.baseUrl}api/Consultation/Get?id=${this.id}`).subscribe(result => {\r\n                this.editConsultationForm = formBuilder.group({\r\n                    startDate: [result.startDate, Validators.required],\r\n                    endDate: [result.endDate, Validators.required],\r\n                    symptoms: [result.symptoms],\r\n                });\r\n                this.patientId = result.patientId;\r\n            });\r\n            this.consultationLoaded = true;\r\n        }\r\n    }\r\n    get form() {\r\n        return this.editConsultationForm.controls;\r\n    }\r\n    async onSubmit(data) {\r\n        if (this.editConsultationForm.invalid || this.id == null)\r\n            return;\r\n        data.patientId = this.patientId;\r\n        console.log(this.patientId);\r\n        this.http.post(`${this.baseUrl}api/Consultation/Edit?id=${this.id}`, data).subscribe(() => this.router.navigate([`/consultations/${this.patientId}`]));\r\n    }\r\n}\r\nEditConsultationComponent.ɵfac = function EditConsultationComponent_Factory(t) { return new (t || EditConsultationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute)); };\r\nEditConsultationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EditConsultationComponent, selectors: [[\"consultations-edit-consultation\"]], decls: 11, vars: 2, consts: [[1, \"row\"], [1, \"col\"], [1, \"col\", \"m-2\"], [\"form\", \"form\", \"mat-stroked-button\", \"\", \"type\", \"submit\", 1, \"large-button\", \"float-right\", \"h2\"], [1, \"col-8\"], [4, \"ngIf\"], [\"id\", \"form\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"id\", \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"standard\", 1, \"wide-form-field\"], [\"for\", \"startDate\"], [\"matInput\", \"\", \"formControlName\", \"startDate\", 3, \"owlDateTime\", \"owlDateTimeTrigger\"], [3, \"pickerType\"], [\"startDate\", \"\"], [\"for\", \"endDate\"], [\"matInput\", \"\", \"formControlName\", \"endDate\", 3, \"owlDateTime\", \"owlDateTimeTrigger\"], [\"endDate\", \"\"], [\"for\", \"symptoms\"], [\"matInput\", \"\", \"required\", \"\", \"id\", \"symptoms\", \"formControlName\", \"symptoms\"]], template: function EditConsultationComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"h1\");\r\n        i0.ɵɵtext(3, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u0446\\u0438\\u0438\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"button\", 3);\r\n        i0.ɵɵtext(6, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 0);\r\n        i0.ɵɵelementStart(8, \"div\", 4);\r\n        i0.ɵɵtemplate(9, EditConsultationComponent_mat_spinner_9_Template, 1, 0, \"mat-spinner\", 5);\r\n        i0.ɵɵtemplate(10, EditConsultationComponent_form_10_Template, 20, 7, \"form\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.consultationLoaded);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.consultationLoaded);\r\n    } }, directives: [i4.MatButton, i5.NgIf, i6.MatSpinner, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i7.MatFormField, i7.MatLabel, i8.MatInput, i1.DefaultValueAccessor, i9.OwlDateTimeInputDirective, i1.NgControlStatus, i1.FormControlName, i9.OwlDateTimeTriggerDirective, i9.OwlDateTimeComponent, i1.RequiredValidator], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}